<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-sp: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ccpp_dox_extra_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ncep.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-sp
   &#160;<span id="projectnumber">Version3.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('io.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><pre class="fragment">         README for NEMSIO

        NOAA/NCEP/EMC NCWCP 2017
     BYTE-ADDRESSABLE I/O C PACKAGE
    Originally written by M.Iredell &amp; J.Wang
</pre><p>Code Management and Version targeted to improve performance by Hang Lei libver='nemsio_v2.2.4'</p>
<p>Location: URL: git clone <a href="https://vlab.ncep.noaa.gov/code-review/NCEPLIBS-nemsio">https://vlab.ncep.noaa.gov/code-review/NCEPLIBS-nemsio</a></p>
<p>Directory contains:</p>
<p>README - current file src modulefiles</p>
<hr  />
<hr  />
<p> Adjust to NCO format for version v2.2.5 </p><h2>on WCOSS-Phase 1/2 and theia </h2>
<p>lib/nemsio/v2.2.5 | <code>--src </code>&ndash;modulefiles | | | <code>--v2.2.5 </code>&ndash;unit_test `&ndash;libnemsio_v2.2.5.a | `&ndash;include | `&ndash;nemsio_v2.0.2.3 | `&ndash;nemsio_*.mod</p>
<h2>on WCOSS-Cray </h2>
<p>lib/nemsio/v2.2.5 | <code>--src </code>&ndash;modulefiles | | | <code>--v2.2.5 </code>&ndash;unit_test `&ndash;intel | | | `&ndash;libnemsio_v2.2.5.a | | | `&ndash;include | | | `&ndash;nemsio_v2.2.5 | | | `&ndash;nemsio_*.mod | `&ndash;cray | `&ndash;libnemsio_v2.2.5.a | `&ndash;include | `&ndash;nemsio_v2.2.5 | `&ndash;NEMSIO_*.mod</p>
<pre class="fragment">nceplibs/nemsio lib:

==================================================
V2.2.5 Hang Lei  since version 2.2.5, the nemsio library only update on VLAB.
                 In this version, the improvement is made to read extra meta data in nemsio files.
                 logical conditions is added in nemsio_openclose.f90 line 2512-2570.


svn site:
https://svnemc.ncep.noaa.gov/projects/nceplibs/nemsio/trunk

--- 20120723
1)fix data type for input argument IX in subroutine BAFRINDEX of bafrio.f

2)when option "rdwr" is chosen to update a nemsio grib file, a bug is fixed to read out pressure fields.

3)For nemsio grib file, the Gaussian grid information will be computed only once.

These changes have no impact on the results.


--- 20120509:

1)This nemsio version is v17978 from nemsio repository :

https://svnemc.ncep.noaa.gov/projects/nems/branches/nemsio

It is considered as a first merged version from user's application on zeus. 
This version has byteswap inside. It reads a binary file using machine endianness, if failed it then reads the file with opposite machine endianness. It writes a file with machine endianness unless it is specified in "gdatatype". 


2)Potential problems when updating user's application to this version:

Since nemsio fixed some field names and changed precision in ncep grib table, you may notice that some fields are changing names and values. But so far I don't expect any serious problem to prevent your application from running due to nemsio upgrade except in NEMS NMMB code. If you are updating nemsio lib and your application can not run properly, please let me know.

a)NEMS NMMB 
If you are on NEMS trunk version 16506 or earlier, and would like to stick at that version but to use nemsio version 16500 and later, NEMS NMMB code should made following changes:
    step 1) go to nems code: src/atmos/share:
       - remove module_NEMSIO_MPI.F90, 
       - delete module_NEMSIO_MPI.o in makefile
    step 2) in src/atmos/nmm: 
    change:
    "use module_nemsio_mpi"
    to:
    "use nemsio_module_mpi"
    in file module_PHYSICS_INIT_READ_NEMSIO.F90 and module_DYNAMICS_INIT_READ_NEMSIO.F90

b)NEMS GFS output data
  If you are accessing folowing NEMS GFS output flx fields from NEMS trunk verion 14719 and before, 
    csulwrf csuswrf csdlwrf csdswrf snohfa smcwlt smcref sunshine

  You should access them with standard names in ncep grib table, which are shown in NEMS trunk verion 14725 and later.
    csulf csusf csdlf csdsf  snohf wilt fldcp sunsd


@@@: 
</pre><p> if you have questions on nemsio lib, please email: <a href="#" onclick="location.href='mai'+'lto:'+'jun'+'.w'+'ang'+'@n'+'oaa'+'.g'+'ov'; return false;">jun.w<span style="display: none;">.nosp@m.</span>ang@<span style="display: none;">.nosp@m.</span>noaa.<span style="display: none;">.nosp@m.</span>gov</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu May 21 2020 12:00:30 for NCEPLIBS-sp by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
