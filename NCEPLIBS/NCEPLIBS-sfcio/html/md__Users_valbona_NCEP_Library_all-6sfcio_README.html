<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-sfcio: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ccpp_dox_extra_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ncep.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-sfcio
   &#160;<span id="projectnumber">Version1.1.1</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__Users_valbona_NCEP_Library_all-6sfcio_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><em>Code manager: George Vandenberghe</em></p>
<p><em>libver='sfcio_v1.1.1'</em></p>
<h2>Instructions for building and installing sfcio on Unix</h2>
<p><em>$Revision$</em></p>
<h4>nceplibs support email: <a href="#" onclick="location.href='mai'+'lto:'+'nce'+'p.'+'lis'+'t.'+'emc'+'.n'+'cep'+'li'+'bs.'+'su'+'ppo'+'rt'+'@no'+'aa'+'.go'+'v'; return false;">ncep.<span style="display: none;">.nosp@m.</span>list<span style="display: none;">.nosp@m.</span>.emc.<span style="display: none;">.nosp@m.</span>ncep<span style="display: none;">.nosp@m.</span>libs.<span style="display: none;">.nosp@m.</span>supp<span style="display: none;">.nosp@m.</span>ort@n<span style="display: none;">.nosp@m.</span>oaa.<span style="display: none;">.nosp@m.</span>gov</a></h4>
<h2>A. The easy (I hope) way...</h2>
<p>To build the sfcio library, you can use the "make_sfcio_lib.sh" script specifying the build configuration. The available build configurations are:</p>
<p>gfortran-debug.setup ifort-debug.setup pgf95-debug.setup xlf2003-debug.setup gfortran.setup ifort.setup pgf95.setup xlf2003.setup</p>
<p>So, on WCOSS/tide you would type: </p><pre class="fragment">$ make_sfcio_lib.sh ifort.setup
</pre><p>On the CCS you would type </p><pre class="fragment">$ make_sfcio_lib.sh xlf2003.setup
</pre><p>Some additional points:</p><ul>
<li>Both GNU-type and NCO-type installs are performed.</li>
<li>The library is installed relative to the current directory. After running the script you should see a new directory containing the library.</li>
<li>See section B.4 below for information about the installation directory structure</li>
</ul>
<p>You can tailor the build process using this "make_sfcio_lib.sh" script by modifying the relevant build configuration setup file in the "config-setup/" subdirectory.</p>
<p>Or, if you are going to be testing library builds multiple times, you can create your own configuration setup file.</p>
<h2>B. The more flexible way</h2>
<h3>1. Configuration</h3>
<p>If you need more flexibility in the library build you can specify the necessary information directly to the configure script that generates the makefiles. For example, on WCOSS/tide: </p><pre class="fragment">$ ./configure --prefix=${PWD} \
            FC="ifort" \
            FCFLAGS="-O3 -g -traceback"
</pre><p>The &ndash;prefix switch sets the installation directory and defaults to /usr/local so make sure you set it to a directory in which you have write access.</p>
<p>The definition of the "FC" enviroment variables is not strictly necessary as it defaults to "ifort" on linux systems if available (followed by "gfortran"and "pgf95" if not), and "xlf2003" on AIX systems.</p>
<h3>2. Building the library</h3>
<p>To start the library build for a particular configuration, simply type </p><pre class="fragment">$ make
</pre><h3>3. Testing the library</h3>
<p>We don't have any package-level tests for sfcio yet. Sorry! They're coming...</p>
<h3>4. Installing the library</h3>
<p>Installation of the library <em>always</em> occurs into its own directory within the directory specified by the &ndash;prefix switch. The name of the installation directory follows the convention: </p><pre class="fragment">&lt;library name&gt;_&lt;version&gt;
</pre><p>So, if the a library version (say, v1.1.0) build was configured with &ndash;prefix=$PWD, then the installation directory will be </p><pre class="fragment">${PWD}/sfcio_v1.1.0
</pre><h4>NCO Install</h4>
<p>To install the library conforming to the NCO organisation and naming conventions, type: </p><pre class="fragment">$ make nco_install
</pre><p>For a library version (say, v1.1.0), this will create a directory called "sfcio_v1.1.0". That directory is organised according to the current NCO structure on CCS and WCOSS in /nwprod/lib, as shown below: </p><pre class="fragment">sfcio_v1.1.0/
    |
    |--libsfcio_v1.1.0.a
    |
    `--incmod/
         |
         `--sfcio_v1.1.0/
              |
              `--sfcio_module.mod
</pre><p>The contents of the "sfcio_v1.1.0" directory can then be moved into the official /nwprod/lib location as needed.</p>
<p>Let's assume the above install was moved into "/usrx/local/nceplibs", to use the library in this structure in your own application, the usual environment variables would be modified something like: </p><pre class="fragment">libroot="/usrx/local/nceplibs"
FCFLAGS="-I${libroot}/incmod/sfcio_v1.1.0 ${FCFLAGS}"
LDFLAGS="-L${libroot} ${LDFLAGS}"
LIBS="-lsfcio_v1.1.0"
</pre><h4>GNU Install</h4>
<p>To perform a GNU-type install, type: </p><pre class="fragment">$ make install
</pre><p>For a library version (say, v1.1.0), this will createa directory called "sfcio_v1.1.0". That directory structure is shown below: </p><pre class="fragment">sfcio_v1.1.0/
    |
    |--include/
    |    |
    |    `--sfcio_module.mod
    |
    `--lib/
         |
         `--libsfcio.a
</pre><p>Note that the only versioned item in this type of install is the name of the installation directory itself.</p>
<p>Let's assume the above install was moved into "/usrx/local/nceplibs", to use the library in this structure in your own application, the usual environment variables would be modified something like: </p><pre class="fragment">libroot="/usrx/local/nceplibs"
FCFLAGS="-I${libroot}/sfcio_v1.1.0/include ${FCFLAGS}"
LDFLAGS="-L${libroot}/sfcio_v1.1.0/lib ${LDFLAGS}"
LIBS="-lsfcio"
</pre><h4>Uninstalling the library</h4>
<p>To uninstall the library (assuming you haven't moved the installation directory contents somewhere else) you can type: </p><pre class="fragment">$ make uninstall
</pre><p>This will delete the created installation directory. So, for a library version (say, v1.1.0), if your configure script invocation was something like </p><pre class="fragment">$ ./configure --prefix=${PWD} ...other command line arguments...
</pre><p>then the "uninstall" target will delete the "${PWD}/sfcio_v1.1.0" directory.</p>
<h3>5. Cleaning up</h3>
<p>Two targets are provided for cleaning up after the build. To remove all the build products type </p><pre class="fragment">$ make clean
</pre><p>To also remove all the configuration products (i.e. the makefiles) type </p><pre class="fragment">$ make distclean
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jun 10 2020 11:54:50 for NCEPLIBS-sfcio by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
