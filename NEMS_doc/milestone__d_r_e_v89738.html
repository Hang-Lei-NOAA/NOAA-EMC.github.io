<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>NEMS: DREV89738: HYCOM-GSM-CICE</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="make-images-fit.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NEMS
   &#160;<span id="projectnumber">master@eee10ef0fe</span>
   </div>
   <div id="projectbrief">This is a living document and may be updated at any time.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('milestone__d_r_e_v89738.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DREV89738: HYCOM-GSM-CICE </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>Last revised: 3/15/2017</dd></dl>
<h2>Repository URL </h2>
<p><a href="https://svnemc.ncep.noaa.gov/projects/nems/apps/HYCOM-GSM-CICE/trunk">https://svnemc.ncep.noaa.gov/projects/nems/apps/HYCOM-GSM-CICE/trunk</a></p>
<h2>Description </h2>
<p>HYCOM-GSM-CICE 0.1 (DREV89738) is a three-way configuration of the Global Spectral Model (GSM), HYCOM (v2.2.98), and Los Alamos Sea Ice Model (CICE5.0). GSM runs on a T126 grid, and HYCOM and CICE run on a 0.24 degree tripolar global grid.</p>
<h2>Field Exchange </h2>
<p>The NEMS mediator receives the model grids at initialization and creates a decomposition of those grids on the mediator PETs. The generic NUOPC Connector redistributes the data from the model PETs and decomposition to the mediator PETs and decomposition. The fields are transferred on their native model grids. A full set of fields is transferred among components using the mediator.</p>
<table class="doxtable">
<tr>
<th>From Mediator to HYCOM </th><th>From Mediator to GSM </th><th>From Mediator to CICE  </th></tr>
<tr>
<td>mean net shortwave flux (including penetrating shortwave flux through the base of sea-ice) </td><td>sea surface temperature </td><td>atmosphere lowest level height </td></tr>
<tr>
<td>mean downward longwave flux </td><td>surface temperature (SST merged with sea ice temperature) </td><td>zonal wind velocity at the lowest level height </td></tr>
<tr>
<td>mean upward longwave flux </td><td>mean upward longwave flux </td><td>meridional wind velocity at the lowest level height </td></tr>
<tr>
<td>zonal momentum flux (including flux from sea ice) </td><td>mean latent heat flux </td><td>specific humidity at the lowest level height </td></tr>
<tr>
<td>meridional momentum flux (including flux from sea ice) </td><td>mean sensible heat flux </td><td>air density at the lowest level height </td></tr>
<tr>
<td>sensible heat flux </td><td>mean evaporation rate </td><td>atmosphere pressure at the lowest level height </td></tr>
<tr>
<td>latent heat flux </td><td>zonal momentum flux </td><td>air temperature at the lowest level height </td></tr>
<tr>
<td>net heat flux from sea ice </td><td>meridional momentum flux </td><td>mean downward shortwave flux (vis, dir) </td></tr>
<tr>
<td>net fresh water flux from sea ice </td><td>mean ice volume from CICE </td><td>mean downward shortwave flux (vis, dif) </td></tr>
<tr>
<td>precipitation rate </td><td>mean snow volume from CICE </td><td>mean downward shortwave flux (ir, dir) </td></tr>
<tr>
<td>sea ice fraction </td><td>sea ice fraction </td><td>mean downward shortwave flux (ir, dif) </td></tr>
<tr>
<td>salt flux </td><td>sea ice albedo (vis, dir) </td><td>mean downward longwave flux </td></tr>
<tr>
<td>&#160; </td><td>sea ice albedo (vis, dif) </td><td>rainfall rate </td></tr>
<tr>
<td>&#160; </td><td>sea ice albedo (ir, dir) </td><td>snowfall rate </td></tr>
<tr>
<td>&#160; </td><td>sea ice albedo (ir, dif) </td><td>freezing/melting potential </td></tr>
<tr>
<td>&#160; </td><td>&#160; </td><td>sea surface temperature </td></tr>
<tr>
<td>&#160; </td><td>&#160; </td><td>sea surface salinity </td></tr>
<tr>
<td>&#160; </td><td>&#160; </td><td>sea surface slope </td></tr>
<tr>
<td>&#160; </td><td>&#160; </td><td>zonal ocean current </td></tr>
<tr>
<td>&#160; </td><td>&#160; </td><td>meridional ocean current </td></tr>
</table>
<h2>Validation </h2>
<p>This revision has been run for more than 5 days and exhibits behavior that is Earth-like. The plots below show SST and sea surface salinity after 5 days of model integration.</p>
<div class="image">
<img src="DREV89738-validate-1.png" alt="DREV89738-validate-1.png"/>
</div>
<div class="image">
<img src="DREV89738-validate-2.png" alt="DREV89738-validate-2.png"/>
</div>
<h2>Run Sequences </h2>
<p>HYCOM-GSM-CICE includes two run sequences, a cold start sequence and a time integration sequence.</p>
<h3>Cold start sequence</h3>
<p>The cold start sequence initializes components using a minimal set of files needed by GSM. The cold start sequence runs for an hour to generate restart files for the mediator. There is a fast and a slow loop, at 15 minutes and 30 minutes, respectively. </p><pre class="fragment">runSeq::
  @1800.0
    @900.0
      MED MedPhase_prep_atm
      MED -&gt; ATM :remapMethod=redist
      ATM
      ATM -&gt; MED :remapMethod=redist
      MED MedPhase_prep_ice
      MED -&gt; ICE :remapMethod=redist
      ICE
      ICE -&gt; MED :remapMethod=redist
      MED MedPhase_atm_ocn_flux
      MED MedPhase_accum_fast
    @
    MED MedPhase_prep_ocn
    MED -&gt; OCN :remapMethod=redist
    OCN
    OCN -&gt; MED :remapMethod=redist
  @
::
</pre><h3>Time integration sequence</h3>
<p>The time integration sequence is initialized by mediator restart files generated by the cold start sequence. </p><pre class="fragment">runSeq::
  @1800.0
    MED MedPhase_prep_ocn
    MED -&gt; OCN :remapMethod=redist
    OCN
    @900.0
      MED MedPhase_prep_ice
      MED MedPhase_prep_atm
      MED -&gt; ATM :remapMethod=redist
      MED -&gt; ICE :remapMethod=redist
      ATM
      ICE
      ATM -&gt; MED :remapMethod=redist
      ICE -&gt; MED :remapMethod=redist
      MED MedPhase_atm_ocn_flux
      MED MedPhase_accum_fast
    @
    OCN -&gt; MED :remapMethod=redist
    MED MedPhase_write_restart
  @
::
</pre><h1>Download, Build, Run, and Restart </h1>
<h2>Download and Build </h2>
<pre class="fragment">svn co -r 89738  https://svnemc.ncep.noaa.gov/projects/nems/apps/HYCOM-GSM-CICE/trunk  work
cd work/HYCOM/config
cp Global/Aintelrelo_nems_nuopc  Aintelrelo_nuopc
cd ../..
./NEMS/NEMSAppBuilder
cp NEMS/exe/NEMS.x  run_dir/NEMS/exe
</pre><h2>Cold Start Run and Restart Run </h2>
<p>Compsets are located in work/run_dir/NEMS/compsets directory. Compsets that can be run with this revision are:</p>
<ul>
<li><code>cfsr%20150401_1hr_nemscold_gsmslgT126_cice%0.24_hycom%0.24</code></li>
<li><code>cfsr%20150401_1day_nems_gsmslgT126_cice%0.24_hycom%0.24</code></li>
<li><code>cfsr%20150401_5days_nems_gsmslgT126_cice%0.24_hycom%0.24</code></li>
</ul>
<p>To run compsets, start within the run_dir directory and execute NEMSCompsetRun: </p><pre class="fragment">cd work/run_dir
./NEMS/NEMSCompsetRun -compset &lt;compset name&gt;
</pre><p>If you leave off the <code>-compset</code> argument, CompsetRun will read the compset list from a local file called <code>HYCOM-GSM-CICE.compsetRun</code>.</p>
<p>To initialize a new case of the HYCOM-GSM-CICE from a cold start, run the cold start compset, <code>cfsr%20150401_1hr_nemscold_gsmslgT126_cice%0.24_hycom%0.24</code>, to generate initial mediator restart files. That compset runs the atm/ice/ocean sequentially for 1 hour. It will generate some initial mediator restart files consisting of initial values for coupling fields.</p>
<p>After running the cold start compset, edit <code>NEMS/NEMSCompsetRun</code> by modifying <code>MED_INPUT_DIR</code> in "setup_med_nems" to change the location of the cold start mediator restart files. This will copy the mediator restart files from your cold start run directory into the new run directory.</p>
<p>Once the NEMSCompsetRun is modified, run a restart compset like <code>cfsr%20150401_1day_nems_gsmslgT126_cice%0.24_hycom%0.24</code> to advance the model from the initial conditions. The system will start with the same atmosphere, ocean, and ice initial conditions as the cold start run plus the new mediator restart files, and the model will run concurrently. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
