<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>NEMS: DREV58214: UGCS-Seasonal 0.1</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="make-images-fit.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NEMS
   &#160;<span id="projectnumber">master@2db048d501</span>
   </div>
   <div id="projectbrief">This is a living document and may be updated at any time.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('milestone__d_r_e_v58214.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DREV58214: UGCS-Seasonal 0.1 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>6/30/2015</dd></dl>
<h2>Description </h2>
<p>DREV58214: UGCS-Seasonal 0.1 is an internal delivery of the three-way coupled GSM-CICE-MOM5 seasonal modeling application. Three-way coupling is implemented through the central NEMS mediator.</p>
<p>In this revision, CICE receives from GSM dynamic fields including wind and stress, and thermodynamic fields such as lowest level temperature, specific humidity, height, radiation, precipitation, and derived air density. It also receives currents and sea surface temperature from MOM5. CICE sends its momentum flux to the mediator where it is merged with the GSM momentum flux and sent to MOM5. CICE ice fraction and masking information is sent to GSM. Other fields that should be sent from CICE to GSM are exported but are not used by the atmosphere model in this revision.</p>
<p>MOM5 receives surface pressure, merged momentum flux, mean net longwave and banded shortwave radiation, precipitation, and sensible heat flux from GSM. MOM5 sends ocean currents to CICE and sea surface temperature to both GSM and CICE.</p>
<p><a href="https://docs.google.com/spreadsheets/d/11t0TqbYfEqH7lmTZ7dYe1DSCh6vOUFgX-3qvXgce-q0/edit#gid=0">The full set of exchange fields for this revision is listed here.</a> The fields exchanged are those that have a "C" (complete) in column D of the sheet.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>Move exchange field list to repo</dd></dl>
<p>The UGCS-Seasonal modeling application in this revision is not yet initialized properly. This means that during spin-up data fields initialized to 0. are sent into the models, and it is not until the second coupling step that actual data is being exchanged. The model appears technically stable even under this condition.</p>
<h2>Model Grids </h2>
<p><b>GSM</b> uses the global Gaussian T126 grid as documented on the <a class="el" href="_g_r_i_d_gsm.html">GSM Grid</a> page. Internally GSM uses a reduced representation with shuffled latitudes. In this milestone revision, the import and export fields are defined on a non-reduced, unshuffled T126 grid, without masks. The coordinates of the import/export grid are written to files array_gsm_grid_coord1.nc and array_gsm_grid_coord2.nc during initialization and from the mediator to files array_med_atm_grid_coord1.nc and atm_med_atm_grid_coord2.nc</p>
<p><b>MOM5</b> uses a 1 degree tripolar grid documented on the <a class="el" href="_g_r_i_d_mom5_1deg_tripole.html">MOM5 grid</a> page. The coordinates written from the mediator to the files array_med_ocn_grid_coord1.nc and array_med_ocn_grid_coord2.nc.</p>
<p><b>CICE</b> uses the 1 degree tripolar <a class="el" href="_g_r_i_d_mom5_1deg_tripole.html">MOM5 grid</a>.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>Link to grid pages</dd></dl>
<h2>Coupling and Mediator Details </h2>
<p><a class="el" href="mediator.html">A general overview of the NEMS mediator is here.</a> The mediator receives the model grids at initialization and creates a decomposition of those grids on the mediator PETs. The generic NUOPC_Connector redistributes the data from the model PETs and decomposition to the mediator PETs and decomposition. The fields are transferred on their native model grids.</p>
<p>The generic NUOPC_Connectors used in this milestone revision employ: </p><pre class="fragment">regridmethod: redist
</pre><p>The mediator regridding is done using </p><pre class="fragment">regridmethod: bilinear
polemethod: teeth
srcMaskValues = 0
dstMaskValues = 0
unmappedaction: ignore
</pre><p>for state variables, and </p><pre class="fragment">regridmethod: conserve
polemethod: n/a
srcMaskValues = 0
dstMaskValues = 0
unmappedaction: ignore
</pre><p>for flux variables and ice_fraction.</p>
<h2>Coupling Accumulation </h2>
<p>The mediator accumulates and averages all fields passed between models between coupling intervals. The ocean is coupled every 2 hours and the atmosphere and ice models are coupled every 1 hour.</p>
<h2>Run Sequence </h2>
<p>The NEMS run-time configuration for the default UGCS-Seasonal configuration is provided below. For details please refer to the <a class="el" href="configuring.html">Configuring</a> and <a class="el" href="architecture.html">Architecture</a> pages. </p><pre class="fragment">          CICE  
           | 
GSM &lt;-&gt; Mediator &lt;-&gt; MOM5

#############################################
####  NEMS Run-Time Configuration File  #####
#############################################

# MED #
med_model:                      nems
med_petlist_bounds:             60 65

# ATM #
atm_model:                      gsm
atm_petlist_bounds:             0 31

# OCN #
ocn_model:                      mom5
ocn_petlist_bounds:             32 55

# ICE #
ice_model:                      cice
ice_petlist_bounds:             56 59

# Run Sequence #
runSeq::
  @7200.0
    OCN -&gt; MED
    MED MedPhase_slow
    MED -&gt; OCN
    OCN
    @3600.0
      MED MedPhase_fast_before
      MED -&gt; ATM
      MED -&gt; ICE
      ATM
      ICE
      ATM -&gt; MED
      ICE -&gt; MED
      MED MedPhase_fast_after
    @
  @
::
</pre><h2>Build &amp; Run </h2>
<p>Instructions on how to build and run specific code revisions (e.g. this milestone revision) are provided in:</p>
<ul>
<li><a class="el" href="building.html">Compiling: NEMSAppBuilder and GNUmakefile</a></li>
<li><a class="el" href="running.html">Running: NEMSCompsetRun</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
