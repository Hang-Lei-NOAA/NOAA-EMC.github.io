<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>NEMS: DREV79954: Regional-Nest 0.1 Single Domain Coupling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="make-images-fit.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NEMS
   &#160;<span id="projectnumber">master@7bd61225cb</span>
   </div>
   <div id="projectbrief">This is a living document and may be updated at any time.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('milestone__d_r_e_v79954.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DREV79954: Regional-Nest 0.1 Single Domain Coupling </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>10/12/2016</dd></dl>
<h2>Description </h2>
<p>Regional-Nest 0.1 (DREV79954) is a one-way configuration of the Nonhydrostatic Mesoscale Model on the B Grid (NMMB) and a regional configuration of the HYbrid Coordinate Ocean Model (HYCOM).</p>
<p>This revision has been run for 2 days using initial condition and boundary condition based on hurricane Patricia and exhibits behavior that is Earth-like. The initial condition starts at 2015 10 20 12:00 hours. This is the starting time for HYCOM initialization and integration. This regional hycom has a 1/12th degree resolution with 1284x516 data points spanning a geographical region (-179.76, 2.48) to (-77.12, 39.98). HYCOM works on a regular lat-lon grid over this geographic region. The regional NMMB grid has a single parent domain roughly at 1/4 degree resolution with 451x451 data points spanning a geographic region (-149.47, -25.71) to (-39.13, 58.9). The NMMB grid is a Lambertian curvi-linear grid. It can also be thought of as a rotated lat-lon grid. Field Exchange</p>
<p>Currently all fields are transferred using bilinear interpolation. The following flux fields are transferred between NMMB and HYCOM:</p>
<table class="doxtable">
<tr>
<th>NMMB-&gt;HYCOM </th><th>HYCOM-&gt;NMMB  </th></tr>
<tr>
<td>latent heat flux </td><td>sea surface temperature </td></tr>
<tr>
<td>sensible heat flux </td><td>&#160; </td></tr>
<tr>
<td>net longwave </td><td>&#160; </td></tr>
<tr>
<td>net shortwave </td><td>&#160; </td></tr>
<tr>
<td>zonal momentum flux </td><td>&#160; </td></tr>
<tr>
<td>meridional momentum flux </td><td>&#160; </td></tr>
<tr>
<td>precipitation rate </td><td>&#160; </td></tr>
</table>
<h2>Run Sequences </h2>
<p>The coupled system starts with HYCOM integrating first using Patricia initial condition. Hycom ignores mediator input on its first time step. Mediator input is used in subsequent time steps after NMMB has been initialized from HYCOM SST and provides valid input in precipitation, radiative fluxes, heat fluxes, and momentum fluxes. </p><pre class="fragment">runSeq::
  @1800.0
    MED MedPhase_slow
    MED -&gt; OCN :remapMethod=redist
    OCN
    OCN -&gt; MED :remapMethod=redist
    @600.0
      MED MedPhase_fast_before
      MED -&gt; ATM :remapMethod=redist
      MED -&gt; ICE :remapMethod=redist
      ATM
      ICE
      ATM -&gt; MED :remapMethod=redist
      ICE -&gt; MED :remapMethod=redist
      MED MedPhase_fast_after
    @
  @
::
</pre><h2>Validation </h2>
<p>Three plots of SST ingested in NMMB from HYCOM are shown here at 01 hr, 48 hr, and the difference between them.</p>
<div class="image">
<img src="DREV77954-sst_domain01_nonests_1hr.png" alt="DREV77954-sst_domain01_nonests_1hr.png"/>
<div class="caption">
SST received by NMMB after one hour model simulation time. By now HYCOM has run 2 time steps and sends updated SST to NMMB</div></div>
<div class="image">
<img src="DREV77954-sst_domain01_nonests_48hrs.png" alt="DREV77954-sst_domain01_nonests_48hrs.png"/>
<div class="caption">
SST received by NMMB at 48 hr of model simulation.</div></div>
<div class="image">
<img src="DREV77954-diff_sst_end_01.png" alt="DREV77954-diff_sst_end_01.png"/>
<div class="caption">
Difference in SST received by NMMB between 1 hour and 48 hr of model simulation time. One can also see in this diagram the outline of the regional HYCOM model overlapping with the regional NMMB model.</div></div>
<div class="image">
<img src="DREV77954-2way_minus_1way_diff_sst.png" alt="DREV77954-2way_minus_1way_diff_sst.png"/>
<div class="caption">
Difference in SST received by NMMB at 48 hr of model simulation time between 1 way coupling HYCOM-&gt;NMMB and 2 way coupling HYCOM&lt;-&gt;NMMB.</div></div>
<h2>Download and Build </h2>
<p>This revision can be downloaded with the following command: </p><pre class="fragment">svn co -r 79954 https://svnemc.ncep.noaa.gov/projects/nems/apps/Regional-Nest
</pre><p>Instructions on how to download and build a NEMS application are discussed in the ref documentation "NEMS User's Guide and Reference".</p>
<p>The coupled system can be built with the following command after download is complete: </p><pre class="fragment">./NEMS/NEMSAppBuilder
</pre><p>Running the Patricia single parent domain compset</p>
<p>Compsets that can be run with this revision are:</p>
<ul>
<li><code>patricia_nems_nmm_cice_hycom</code></li>
</ul>
<p>To run compsets, start within the UGCS-Seasonal directory and execute the NEMS CompsetRun tool by typing: </p><pre class="fragment">./NEMS/NEMSCompsetRun -compset NEMS/compsets/patricia_nems_nmm_cice_hycom
</pre><p>Currently, the data files are only set up on Theia. The data files for HYCOM can be found at: </p><pre class="fragment">/scratch4/NCEPDEV/nems/noscrub/NEMS-Data/HYCOM/REGIONAL_HEP20/
</pre><p>Data files for NMMB can be found at: </p><pre class="fragment">/scratch4/NCEPDEV/nems/noscrub/NEMS-Data/RT-Baselines/NMMB_patricia_nests</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
