<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>NEMS: DREV73964: UGCS-Seasonal 0.2</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="make-images-fit.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NEMS
   &#160;<span id="projectnumber">master@fb387d39b5</span>
   </div>
   <div id="projectbrief">This is a living document and may be updated at any time.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('milestone__d_r_e_v73964.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DREV73964: UGCS-Seasonal 0.2 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>4/28/2016</dd></dl>
<h2>Description </h2>
<p>UGCS-Seasonal 0.2 (DREV73964) is a three-way configuration of the <a href="http://www.emc.ncep.noaa.gov/index.php?branch=GFS">Global Spectral Model (GSM)</a>, <a href="http://mom-ocean.org/web">Modular Ocean Model 5 (MOM5)</a>, and <a href="http://oceans11.lanl.gov/trac/CICE/">Los Alamos Sea Ice Model (CICE)</a>. GSM runs on a <a class="el" href="_g_r_i_d_gsm.html">T126 grid</a>, and MOM5 and CICE run on a <a class="el" href="_g_r_i_d_mom5_0p5deg_tripole.html">0.5 degree tripolar global grid with 0.25 degree tropics</a>. A full set of fields is transferred among components using the NEMS mediator (see <a href="https://docs.google.com/spreadsheets/d/1Tae7NoGbIfti38QxvmzPy7Z4tIWQgY4zSdq5Xcx9MDk/edit?usp=sharing">exchange field spreadsheet</a>). Relative to <a class="el" href="milestone__d_r_e_v58214.html">UGCS-Seasonal 0.1</a>, this revision includes additional verified exchange field connections involving sea ice and improved treatment of coastlines. Initialization is performed using Climate Forecast System Reanalysis (CFSR) data for April 1, 2015 that is consistent for all components. There is a cold start initialization implemented using a separate run sequence.</p>
<p>This revision has been run for 30 days and exhibits behavior that is Earth-like. The UGCS-Seasonal 0.2 revision is a starting point for further physical analysis and integration with workflow and data assimilation components.</p>
<p>A primary limitation of the revision is that it has not been optimized for performance or memory. In addition, it appears to have a porting issue. It has been tested successfully on the NOAA research platform theia and the EMC operational platform wcoss, but it fails after several days on the NCAR yellowstone computer. These are all IBM clusters. Another technical limitation is that a coordinated restart capability has not yet been implemented. This prevented the revision from being run longer than 30 days.</p>
<p>A known science issue is the presence of unrealistic wind stresses in the northern ocean.</p>
<h2>Run Sequences </h2>
<p>UGCS-Seasonal includes two run sequences, a cold start sequence and a time integration sequence.</p>
<p>Cold start sequence: The first cold start sequence initializes components using a miinimal set of files ingested by GSM. The cold start sequence only needs to run for a half hour. However, it runs for an hour because there is a limitation on running less than an hour in EMC scripts. </p><pre class="fragment">runSeq::
  @1800.0
    @600.0
      MED MedPhase_prep_atm
      MED -&gt; ATM :remapMethod=redist
      ATM
      ATM -&gt; MED :remapMethod=redist
      MED MedPhase_prep_ice
      MED -&gt; ICE :remapMethod=redist
      ICE
      ICE -&gt; MED :remapMethod=redist
      MED MedPhase_atm_ocn_flux
      MED MedPhase_accum_fast
    @
    MED MedPhase_prep_ocn
    MED -&gt; OCN :remapMethod=redist
    OCN
    OCN -&gt; MED :remapMethod=redist
  @
::
</pre><p>Time integration sequence: The second run sequence, shown below, is for the time integration loop. It is initialized by restart files generated by the cold start sequence. As in UGCS&ndash;Seasonal 0.1, there is a fast and a slow loop, at 10 minutes and 30 minutes, respectively. </p><pre class="fragment">runSeq::
  @1800.0
    MED MedPhase_prep_ocn
    MED -&gt; OCN :remapMethod=redist
    OCN
    @600.0
      MED MedPhase_prep_ice
      MED MedPhase_prep_atm
      MED -&gt; ATM :remapMethod=redist
      MED -&gt; ICE :remapMethod=redist
      ATM
      ICE
      ATM -&gt; MED :remapMethod=redist
      ICE -&gt; MED :remapMethod=redist
      MED MedPhase_atm_ocn_flux
      MED MedPhase_accum_fast
    @
    OCN -&gt; MED :remapMethod=redist
  @
::
</pre><h2>Validation </h2>
<p>Diagnostics from a 5-day run are shown in <a href="http://esgf.esrl.noaa.gov/site_media/projects/couplednems/pres_1604_DREV73550_mendez.pptx">this slide set</a>, from M. Mendez, EMC. The revision analyzed was DREV73550, which was shown to be bit-for-bit with DREV73964</p>
<p>Diagnostics from a 30-day run are shown in this <a href="http://esgf.esrl.noaa.gov/site_media/projects/couplednems/ugcsMerge_short.pptx">slide set</a>, from M. Mendez, EMC. The revision analyzed was DREV74294, which was shown to be bit-for-bit with DREV73946. In addition to results from the UGCS-Seasonal 0.2 system, these slides show results from CFSv2, CDAS, and a subsequent version of the UGCS-Seasonal code, after a merge which updated the GSM version.</p>
<p>These results are from a development system and do not represent a NOAA prediction or product. Build, Run, and Restart Download and Build</p>
<p>Instructions on how to download and build a NEMS application are in the <a class="el" href="documentation.html">NEMS User's Guide and Reference</a>. Running UGCS-Seasonal with a cold start requires additional instructions, below. Cold Start and Run</p>
<p>Compsets that can be run with this revision are:</p>
<ul>
<li><code>20150401short_nems_gsm_cice_mom5</code> (1 day run)</li>
<li><code>20150401_nems_gsm_cice_mom5</code> (5 day run)</li>
<li><code>20150401long_nems_gsm_cice_mom5</code> (30 day run)</li>
<li><code>20150401short_nemscold_gsm_cice_mom5</code> (cold start compset, 1 hr)</li>
</ul>
<p>To run compsets, start within the UGCS-Seasonal directory and execute the <a class="el" href="running.html">NEMSCompsetRun tool</a> by typing: </p><pre class="fragment">./NEMS/NEMSCompsetRun -compset &lt;compset name&gt;
</pre><p>If you leave off the <code>-compset</code> argument, CompsetRun will read the compset list from a local file. (See more about CompsetRun options <a class="el" href="running.html">here</a>.)</p>
<p>To initialize a new case of the UGCS-Seasonal from a cold start, run the cold start compset, <code>20150401short_nemscold_gsm_cice_mom5</code>, to generate initial mediator restart files. That compset runs the atm/ice/ocean sequentially for 1 hour. It will generate some initial mediator restart files consisting of initial values for coupling fields consistent with the current atmosphere, ocean, and sea ice conditions. You then use those initial mediator files to startup a standard run with the same model initial conditions and initial model date as the cold start run. To do this, run the coldstart compset using CompsetRun as specified above with the compset, <code>20150401short_nemscold_gsm_cice_mom5</code>.</p>
<p>After running the cold start compset, go into <code>NEMS/NEMSCompsetRun</code> and modify "setup_med_nems" to pre-stage the cold start mediator restart files instead of whatever files are set by default. This is done in a section that looks like, </p><pre class="fragment">cp -f ${DATADIR}/MED_NEMS/${nemsgrid}${nemsgridinp}/* ${RUNDIR}
# cp -f /scratch3/NCEPDEV/stmp1/Anthony.Craig/UGCS-Seasonal.r72808/20150401short_nemscold_gsm_cice_mom5/mediator*restart* ${RUNDIR}             
</pre><p>Comment out the first line and uncomment the second line. In the second line, set the path to the cold start run directory where the cold start case just ran. This will copy the mediator restart files from your cold start run directory into the new run directory.</p>
<p>Once the cold start is done and the <code>NEMSCompsetRun</code> is modified, run a standard compset like <code>20150401long_nems_gsm_cice_mom5</code> to advance the model from the initial conditions. The system will start with the same atmosphere, ocean, and ice initial conditions as the cold start run plus the new mediator restart files, and the model will run concurrently. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
