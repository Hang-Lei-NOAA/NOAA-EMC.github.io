<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>NEMS: Note on MOM-CICE Grids</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="make-images-fit.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NEMS
   &#160;<span id="projectnumber">master@eee10ef0fe</span>
   </div>
   <div id="projectbrief">This is a living document and may be updated at any time.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('note_on__m_o_m-_c_i_c_e__grids.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Note on MOM-CICE Grids </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page is up-to-date with respect to the version: <a class="el" href="milestone__d_r_e_v58214.html">DREV58214: UGCS-Seasonal 0.1</a></p>
<p>There have been several discussions about the ice and ocean grids. Several have suggested that the ice and ocean grids should generally be the same. As part of that effort, a CICE grid file was created for the 360x200 MOM5 grid. When the models pass the grids to the mediator, the masks are identical, but the grids are not. A closer examination was carried out with a conclusion that the differences are small and probably expected.</p>
<p>These are ~1 degree grids, 360x200. Both center and corner information is being sent to the mediator. The ocean and ice grids sent to the mediator indicate that the corner points are identical to about single order precision. The center points are different in the ocean and ice grids by less than 0.015 degrees which is much, much less than half a grid box (which would be about 0.5 degrees).</p>
<p>The following apppears to be happening. The MOM grid file defines center and corner lons and lats for its grid as a starting point. The CICE model is implemented so the corner points are read in and the center points are computed on the fly internally. A separate tool was created that converted the MOM corner points and mask to a CICE grid file at single precision. So the fact that the corner points match up in the mediator between the ocean and ice at single precision is what we'd expect and is correct. This could be improved by doing this in double precision, but it wouldn't have much impact on the quality of the science or the differences we're seeing in the center points.</p>
<p>After CICE reads in the corner points, it computes center lons and lats internally. Those points are different from the MOM values by &lt; 0.015 degrees as mentioned above. That is a much larger than roundoff, but is much smaller than the grid dx and is probably pretty reasonable in this case, Where the MOM and CICE grids are probably NOT identical is how their grids are defined. Each model has it's own idea of the relationship between the corner, the centers, the edge lengths and other gridcell metrics. A simple way to think about that is that one model might place the centers at the average of the corners and another model might require that the corners be at the average of the centers. With non-uniform grids, two grid defined in this way can never have both matching corner and center lons and lats. The grid definition is an inherent part of how models define and discretize the equations. If this is all true, then what it means is that MOM and CICE can never have identical values for both centers and corners for most grids.</p>
<p>In CESM, the POP and CICE grid centers and corners are identical because they both were developed with the goal of having them both operate on exactly the same grid. So that makes life a little easier, but the differences in the MOM and CICE grid should not be a problem.</p>
<p>So in summary, I believe the way we've generated the 1 degree grid for CICE is completely reasonable and that the differences we're seeing between the ocean and ice grids in the mediator, even though the grids are "the same", are also reasonable. I think the next question is how do we want to deal with this in the mediator and that's a science question. In the current implementation, the mediator treats these as unique grids and computes mapping weights between the grids. To a large degree, the grids are almost exactly overlapping so that mapping is close to a copy, but not exactly. I think that's probably the right way to do it. We could also choose to force that fields NOT be mapped between the ocean and ice when the grid sizes are the same and artificially force the grids to be treated as if they were identical in the mediator. That's also viable in this situation but will generally be less accurate.</p>
<p>From notes by A. Craig. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
